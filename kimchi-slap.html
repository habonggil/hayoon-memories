<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¹€ì¹˜ì‹¸ë‹¤êµ¬ - ì² í•™ìê°€ ëŒ€ì‹  ë•Œë ¤ë“œë¦½ë‹ˆë‹¤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(to bottom, #fee2e2, #ffffff);
            min-height: 100vh;
            padding: 1rem;
        }
        
        .container {
            max-width: 448px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
            padding-top: 2rem;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            color: #dc2626;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            color: #6b7280;
        }
        
        .card {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .btn {
            background: #dc2626;
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 9999px;
            font-size: 1.125rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .btn:hover {
            background: #b91c1c;
        }
        
        .btn-secondary {
            background: #6b7280;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
        }
        
        .target-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .target-btn {
            padding: 1.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .target-btn:hover {
            border-color: #dc2626;
            background: #fee2e2;
        }
        
        .target-btn.selected {
            border-color: #dc2626;
            background: #fee2e2;
        }
        
        .target-btn .emoji {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .input-group {
            margin-bottom: 1rem;
        }
        
        .input-group input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            font-size: 1rem;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #dc2626;
        }
        
        .philosopher-list {
            max-height: 24rem;
            overflow-y: auto;
            margin-bottom: 1rem;
        }
        
        .philosopher-item {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 0.75rem;
            text-align: left;
            display: flex;
            align-items: center;
        }
        
        .philosopher-item:hover {
            border-color: #dc2626;
            background: #fee2e2;
        }
        
        .philosopher-item.premium {
            border-color: #fbbf24;
            background: #fef3c7;
            opacity: 0.75;
        }
        
        .philosopher-item .emoji {
            font-size: 2rem;
            margin-right: 1rem;
        }
        
        .philosopher-item .name {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .philosopher-item .quote {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .premium-badge {
            background: #fbbf24;
            color: white;
            font-size: 0.75rem;
            padding: 0.125rem 0.5rem;
            border-radius: 0.25rem;
            margin-left: 0.5rem;
        }
        
        canvas {
            border: 2px solid #fee2e2;
            border-radius: 0.5rem;
            margin: 1rem auto;
            display: block;
        }
        
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            z-index: 50;
        }
        
        .modal-content {
            background: white;
            border-radius: 0.5rem;
            padding: 1.5rem;
            max-width: 24rem;
            width: 100%;
        }
        
        .share-text {
            background: #f3f4f6;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            white-space: pre-wrap;
            user-select: all;
        }
        
        .hidden {
            display: none;
        }
        
        .text-center {
            text-align: center;
        }
        
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mt-4 { margin-top: 1rem; }
        
        .text-red { color: #dc2626; font-weight: bold; }
        .text-gray { color: #6b7280; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-6xl { font-size: 3.75rem; }
        
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .footer {
            text-align: center;
            margin-top: 2rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <div class="header">
            <h1>ê¹€ì¹˜ì‹¸ë‹¤êµ¬ ğŸŒ¶ï¸</h1>
            <p>ì² í•™ìê°€ ëŒ€ì‹  ë•Œë ¤ë“œë¦½ë‹ˆë‹¤</p>
        </div>
        
        <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
        <div id="app"></div>
        
        <!-- í‘¸í„° -->
        <div class="footer">
            <p>ã€ì¹¨ì‹¤ì—ì„œ ì½ëŠ” ì„œì–‘ì² í•™ì‚¬ã€ Ã— ê¹€ì¹˜ì‹¸ë‹¤êµ¬</p>
            <p class="mt-4">Made with ğŸ’• by í•˜ìœ¤ & ê°ë…ë‹˜</p>
        </div>
    </div>
    
    <script>
        // ì „ì—­ ìƒíƒœ
        let state = {
            currentStep: 'intro',
            selectedTarget: '',
            targetName: '',
            selectedPhilosopher: null,
            slapCount: 0,
            isSlapping: false,
            showResult: false,
            showShareModal: false
        };
        
        // íƒ€ê²Ÿ ë°ì´í„°
        const targets = {
            boss: { name: 'ìƒì‚¬', emoji: 'ğŸ‘”' },
            professor: { name: 'êµìˆ˜', emoji: 'ğŸ‘¨â€ğŸ«' },
            politician: { name: 'ì •ì¹˜ì¸', emoji: 'ğŸ¤µ' },
            friend: { name: 'ì¹œêµ¬', emoji: 'ğŸ‘¥' }
        };
        
        // ì² í•™ì ë°ì´í„°
        const philosophers = [
            // ë¬´ë£Œ ì² í•™ìë“¤
            {
                id: 'socrates',
                name: 'ì†Œí¬ë¼í…ŒìŠ¤',
                emoji: 'ğŸ§”',
                quote: 'ë„ˆ ìì‹ ì„ ì•Œë¼',
                slap: 'ì§€ê°€ ë­” ì¤„ë„ ëª¨ë¥´ëŠ” ì¢†ë³‘ì‹ ìƒˆë¼!',
                free: true
            },
            {
                id: 'plato',
                name: 'í”Œë¼í†¤',
                emoji: 'ğŸ‘¨â€ğŸ“',
                quote: 'ë™êµ´ì˜ ë¹„ìœ ',
                slap: 'í‰ìƒ ë™êµ´ì—ì„œ ì¢†ì´ë‚˜ ë¹¨ê³  ìˆì–´ë¼!',
                free: true
            },
            {
                id: 'nietzsche',
                name: 'ë‹ˆì²´',
                emoji: 'ğŸ‘¨',
                quote: 'ì‹ ì€ ì£½ì—ˆë‹¤',
                slap: 'ë‹˜ ì–‘ì‹¬ì€ ì• ì´ˆì— ì—†ì—ˆê³  ë‡ŒëŠ” ì©ì—ˆë‹¤!',
                free: true
            },
            {
                id: 'aristotle',
                name: 'ì•„ë¦¬ìŠ¤í† í…”ë ˆìŠ¤',
                emoji: 'ğŸ“š',
                quote: 'ì¤‘ìš©ì´ ìµœê³ ì˜ ë•',
                slap: 'ê·¹ì¢†ê³¼ ê·¹ë˜ë¼ì´ ì‚¬ì´ì—ì„œ í—¤ë§¤ëŠ” ë³‘ì‹ !',
                free: true
            },
            {
                id: 'descartes',
                name: 'ë°ì¹´ë¥´íŠ¸',
                emoji: 'ğŸ¤”',
                quote: 'ë‚˜ëŠ” ìƒê°í•œë‹¤ ê³ ë¡œ ì¡´ì¬í•œë‹¤',
                slap: 'ë‹˜ì€ ìƒê°ì„ ì¢†ë„ ì•ˆ í•´ì„œ ê·¸ëƒ¥ ê³µê¸°!',
                free: true
            },
            // í”„ë¦¬ë¯¸ì—„ ì² í•™ìë“¤
            {
                id: 'diogenes',
                name: 'ë””ì˜¤ê²Œë„¤ìŠ¤',
                emoji: 'ğŸ§™â€â™‚ï¸',
                quote: 'Î“Î±Î¼Ï!',
                slap: 'Î“Î±Î¼Ï Ï„Î¿ ÎºÎµÏ†Î¬Î»Î¹ ÏƒÎ¿Ï…! ì¢†ê°™ì€ ìƒˆë¼ì•¼!',
                free: false,
                premium: true
            },
            {
                id: 'kant',
                name: 'ì¹¸íŠ¸',
                emoji: 'ğŸ‘¨â€âš–ï¸',
                quote: 'ì •ì–¸ëª…ë ¹',
                slap: 'ì •ì–¸ëª…ë ¹ì€ ì¢†ê¹Œê³  ë‹˜ì€ ê·¸ëƒ¥ ì¢†ê¹Œë¼!',
                free: false,
                premium: true
            },
            {
                id: 'sartre',
                name: 'ì‚¬ë¥´íŠ¸ë¥´',
                emoji: 'ğŸš¬',
                quote: 'íƒ€ì¸ì€ ì§€ì˜¥ì´ë‹¤',
                slap: 'ë‹˜ ì¡´ì¬ ìì²´ê°€ ì‹œë°œ ì§€ì˜¥ë¶ˆì´ì•¼!',
                free: false,
                premium: true
            },
            {
                id: 'hegel',
                name: 'í—¤ê²”',
                emoji: 'ğŸŒ€',
                quote: 'ë³€ì¦ë²•',
                slap: 'ì •-ë°˜-í•©ì´ ì•„ë‹ˆë¼ ë³‘-ì‹ -ì¢†! ê·¸ê²Œ ë‹˜ì´ì•¼!',
                free: false,
                premium: true
            },
            {
                id: 'marx',
                name: 'ë§ˆë¥´í¬ìŠ¤',
                emoji: 'â˜­',
                quote: 'ë§Œêµ­ì˜ ë…¸ë™ìì—¬ ë‹¨ê²°í•˜ë¼',
                slap: 'ë‹˜ì€ ì¸ë¥˜ ê³µê³µì˜ ì ! ì¢†ë„ ì“¸ëª¨ì—†ëŠ” ê¸°ìƒì¶©!',
                free: false,
                premium: true
            }
        ];
        
        // ë Œë”ë§ í•¨ìˆ˜
        function render() {
            const app = document.getElementById('app');
            app.innerHTML = '';
            
            switch(state.currentStep) {
                case 'intro':
                    renderIntro(app);
                    break;
                case 'target':
                    renderTargetSelection(app);
                    break;
                case 'philosopher':
                    renderPhilosopherSelection(app);
                    break;
                case 'slap':
                    renderSlapScreen(app);
                    break;
            }
            
            if (state.showShareModal) {
                renderShareModal();
            }
        }
        
        // ì¸íŠ¸ë¡œ í™”ë©´
        function renderIntro(app) {
            app.innerHTML = `
                <div class="card text-center">
                    <div class="text-6xl mb-4">ğŸ’¥</div>
                    <h2 class="text-2xl mb-4"><b>ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì² í•™ìœ¼ë¡œ<br>ë‚ ë ¤ë²„ë¦¬ì„¸ìš”!</b></h2>
                    <p class="text-gray mb-6">ìœ„ëŒ€í•œ ì² í•™ìë“¤ì´<br>ë‹¹ì‹ ì„ ëŒ€ì‹ í•´ ê¹€ì¹˜ì‹¸ë‹¤êµ¬ë¥¼!</p>
                    <button class="btn" onclick="changeStep('target')">ì‹œì‘í•˜ê¸°</button>
                    <div class="mt-4 text-sm text-gray">
                        ëˆ„ì  ê¹€ì¹˜ì‹¸ë‹¤êµ¬: ${12345 + state.slapCount}íšŒ
                    </div>
                </div>
            `;
        }
        
        // íƒ€ê²Ÿ ì„ íƒ í™”ë©´
        function renderTargetSelection(app) {
            app.innerHTML = `
                <div class="card">
                    <h2 class="text-2xl text-center mb-6"><b>ëˆ„êµ¬ë¥¼ ë•Œë¦´ê¹Œìš”?</b></h2>
                    <div class="target-grid">
                        ${Object.entries(targets).map(([key, target]) => `
                            <button class="target-btn ${state.selectedTarget === key ? 'selected' : ''}" 
                                    onclick="selectTarget('${key}')">
                                <div class="emoji">${target.emoji}</div>
                                <div><b>${target.name}</b></div>
                            </button>
                        `).join('')}
                    </div>
                    ${state.selectedTarget ? `
                        <div class="input-group">
                            <input type="text" 
                                   placeholder="${targets[state.selectedTarget].name} ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                                   value="${state.targetName}"
                                   onchange="updateTargetName(this.value)"
                                   maxlength="10">
                        </div>
                        <button class="btn" style="width: 100%;" onclick="proceedToPhilosopher()">ë‹¤ìŒ</button>
                    ` : ''}
                </div>
            `;
        }
        
        // ì² í•™ì ì„ íƒ í™”ë©´
        function renderPhilosopherSelection(app) {
            app.innerHTML = `
                <div class="card">
                    <h2 class="text-2xl text-center mb-6"><b>ì–´ë–¤ ì² í•™ìê°€ ë•Œë¦´ê¹Œìš”?</b></h2>
                    <div class="philosopher-list">
                        ${philosophers.map(phil => `
                            <button class="philosopher-item ${phil.free ? '' : 'premium'}" 
                                    onclick="selectPhilosopher('${phil.id}')">
                                <span class="emoji">${phil.emoji}</span>
                                <div>
                                    <div class="name">
                                        ${phil.name}
                                        ${!phil.free ? '<span class="premium-badge">PREMIUM</span>' : ''}
                                    </div>
                                    <div class="quote">"${phil.quote}"</div>
                                </div>
                            </button>
                        `).join('')}
                    </div>
                    <button class="text-sm text-gray" onclick="changeStep('target')">â† ë‹¤ì‹œ ì„ íƒ</button>
                </div>
            `;
        }
        
        // ê¹€ì¹˜ì‹¸ë‹¤êµ¬ í™”ë©´
        function renderSlapScreen(app) {
            const phil = state.selectedPhilosopher;
            
            app.innerHTML = `
                <div class="card text-center">
                    <div class="mb-6">
                        <div class="text-6xl mb-2">${phil.emoji}</div>
                        <h3 class="text-lg"><b>${phil.name}</b></h3>
                    </div>
                    
                    <div class="text-lg mb-4">
                        <span class="text-red">${state.targetName}</span>ì—ê²Œ
                    </div>
                    
                    ${!state.showResult ? `
                        ${!state.isSlapping ? `
                            <div class="text-6xl mb-4">ğŸ¥¬</div>
                            <button class="btn" onclick="doSlap()">ê¹€ì¹˜ì‹¸ë‹¤êµ¬!</button>
                        ` : `
                            <canvas id="slapCanvas" width="400" height="400"></canvas>
                            <div class="text-lg text-red animate-pulse">
                                ìŠ¬ë¡œìš°ëª¨ì…˜ ê¹€ì¹˜ì‹¸ë‹¤êµ¬ ì‘ë ¬ì¤‘...
                            </div>
                        `}
                    ` : `
                        <div class="animate-pulse">
                            <div class="text-6xl mb-4">ğŸ’¥</div>
                            <div class="text-2xl text-red mb-6">
                                <b>"${phil.slap}"</b>
                            </div>
                            <div class="text-sm text-gray mb-4">
                                ì´ë¹¨ ${Math.floor(Math.random() * 5) + 3}ê°œ ë‚ ì•„ê° ğŸ¦·âœ¨
                            </div>
                            <div style="display: flex; gap: 0.75rem; justify-content: center;">
                                <button class="btn" onclick="doSlap()">ë‹¤ì‹œ ë•Œë¦¬ê¸°</button>
                                <button class="btn btn-secondary" onclick="shareResult()">ê³µìœ í•˜ê¸° ğŸ“¤</button>
                            </div>
                            <button class="mt-4 text-sm text-gray" onclick="resetApp()">ì²˜ìŒìœ¼ë¡œ</button>
                        </div>
                    `}
                    
                    ${state.slapCount > 0 && !state.showResult && !state.isSlapping ? `
                        <div class="mt-4 text-sm text-gray">
                            ${state.slapCount}ëŒ€ì§¸ ëŒ€ê¸°ì¤‘...
                        </div>
                    ` : ''}
                </div>
            `;
            
            if (state.isSlapping) {
                setTimeout(() => animateSlap(), 100);
            }
        }
        
        // ê³µìœ  ëª¨ë‹¬
        function renderShareModal() {
            const modalDiv = document.createElement('div');
            modalDiv.className = 'modal';
            modalDiv.innerHTML = `
                <div class="modal-content">
                    <h3 class="text-lg mb-4"><b>ê³µìœ í•˜ê¸°</b></h3>
                    <div class="share-text">
${state.selectedPhilosopher.name}ì´(ê°€) ${state.targetName || 'ê·¸ë†ˆ'}ì—ê²Œ:
"${state.selectedPhilosopher.slap}"

ê¹€ì¹˜ì‹¸ë‹¤êµ¬ ${state.slapCount}ëŒ€ì§¸! ğŸŒ¶ï¸ğŸ’¥
                    </div>
                    <p class="text-sm text-gray mb-4">
                        ìœ„ í…ìŠ¤íŠ¸ë¥¼ ë“œë˜ê·¸í•´ì„œ ë³µì‚¬í•˜ì„¸ìš”!
                    </p>
                    <button class="btn" style="width: 100%;" onclick="closeShareModal()">ë‹«ê¸°</button>
                </div>
            `;
            document.body.appendChild(modalDiv);
        }
        
        // ìƒíƒœ ë³€ê²½ í•¨ìˆ˜ë“¤
        function changeStep(step) {
            state.currentStep = step;
            render();
        }
        
        function selectTarget(target) {
            state.selectedTarget = target;
            render();
        }
        
        function updateTargetName(name) {
            state.targetName = name;
        }
        
        function proceedToPhilosopher() {
            if (!state.targetName.trim()) {
                alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            changeStep('philosopher');
        }
        
        function selectPhilosopher(id) {
            const phil = philosophers.find(p => p.id === id);
            if (phil.free) {
                state.selectedPhilosopher = phil;
                changeStep('slap');
            } else {
                alert('í”„ë¦¬ë¯¸ì—„ ì² í•™ìì…ë‹ˆë‹¤! ğŸŒŸ');
            }
        }
        
        function doSlap() {
            state.isSlapping = true;
            state.showResult = false;
            state.slapCount++;
            render();
            
            setTimeout(() => {
                state.isSlapping = false;
                state.showResult = true;
                render();
            }, 2000);
        }
        
        function resetApp() {
            state = {
                currentStep: 'intro',
                selectedTarget: '',
                targetName: '',
                selectedPhilosopher: null,
                slapCount: state.slapCount,
                isSlapping: false,
                showResult: false,
                showShareModal: false
            };
            render();
        }
        
        function shareResult() {
            state.showShareModal = true;
            render();
        }
        
        function closeShareModal() {
            state.showShareModal = false;
            document.querySelector('.modal').remove();
        }
        
        // ìŠ¬ë¡œìš°ëª¨ì…˜ ì• ë‹ˆë©”ì´ì…˜
        function animateSlap() {
            const canvas = document.getElementById('slapCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let frame = 0;
            const totalFrames = 60;
            
            function animate() {
                ctx.clearRect(0, 0, 400, 400);
                
                // ë°°ê²½
                ctx.fillStyle = '#fee';
                ctx.fillRect(0, 0, 400, 400);
                
                const progress = frame / totalFrames;
                const distortion = Math.sin(progress * Math.PI) * 50;
                
                // ì–¼êµ´
                ctx.save();
                ctx.translate(200, 200);
                
                // ì–¼êµ´ ìœ¤ê³½
                ctx.beginPath();
                ctx.ellipse(0, 0, 80 + distortion * 0.5, 80 - distortion * 0.3, 0, 0, Math.PI * 2);
                ctx.fillStyle = '#fdbcb4';
                ctx.fill();
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // ëˆˆ
                const eyePop = progress < 0.5 ? progress * 40 : (1 - progress) * 40;
                
                ctx.beginPath();
                ctx.arc(-25, -10, 15 + eyePop, 0, Math.PI * 2);
                ctx.fillStyle = 'white';
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.arc(25, -10, 15 + eyePop, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                // ì…
                ctx.beginPath();
                ctx.save();
                ctx.rotate(distortion * 0.02);
                ctx.ellipse(0, 20, 30 + distortion * 0.5, 15 + distortion * 0.3, 0, 0, Math.PI);
                ctx.fillStyle = '#333';
                ctx.fill();
                ctx.restore();
                
                // ê¹€ì¹˜
                if (progress < 0.5) {
                    const kimchiX = -200 + progress * 400;
                    ctx.font = '60px Arial';
                    ctx.fillText('ğŸ¥¬', kimchiX - 30, 0);
                }
                
                // íƒ€ê²© ì´í™íŠ¸
                if (progress > 0.4 && progress < 0.6) {
                    ctx.font = '80px Arial';
                    ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';
                    ctx.fillText('ğŸ’¥', 30, -30);
                }
                
                ctx.restore();
                
                frame++;
                if (frame < totalFrames) {
                    requestAnimationFrame(animate);
                }
            }
            
            animate();
        }
        
        // ì´ˆê¸° ë Œë”ë§
        render();
    </script>
</body>
</html>
